<!--
  - Checkout Screen
  - @author    ThemesBuckets <themesbuckets@gmail.com>
  - @copyright Copyright (c) 2020
  - @license   AppsPlaces
-->

<!-- Header -->
<ion-header no-border>
  <ion-toolbar color="color1">

    <!-- Back to previous page option button -->
    <ion-buttons slot="start">
      <ion-back-button color="white" default-href="" (click)="dismiss()" text="" icon="arrow-round-back">
      </ion-back-button>      
    </ion-buttons>
    

    <!-- Page title -->
    <ion-title>Edit Product</ion-title>
   
  </ion-toolbar>
</ion-header>

<!-- Contents -->
<ion-content id="checkout">

  <!-- Steps of Checkout, steps are - (Billing, Payment, Confirm) -->
  <ion-grid class="ion-padding">
    <ion-row class="ion-text-center">
      <ion-col *ngFor="let item of checks" [ngClass]="{selected: item.isSelected}">
        <ion-icon name="radio-button-on" style="zoom:1.5;" [hidden]="!item.isSelected" ></ion-icon>
        <ion-icon name="radio-button-off" style="zoom:1.5;" [hidden]="item.isSelected" ></ion-icon>
        <br />
        <ion-text>{{item.step}}</ion-text>
      </ion-col>
        <div *ngIf="checks[1].isSelected" class="ion-size ion-slide-bar"></div> 
        <div *ngIf="checks[2].isSelected" class="ion-progress-bar"></div>
    </ion-row>
  </ion-grid>

  <!-- Content of Checkout Steps -->

  <!-- Billing Section -->
  <div id="billing" *ngIf="steps[0].isSelected">

    <form class="ion-padding">
      <!-- Full Name -->
      <ion-row>
        <ion-col>
          <ion-item class="item-background-color">
            <ion-input  type="text" placeholder="Product Name" name="pname" [(ngModel)]="name"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
        <!-- Address 1 -->
        <ion-row>
          <ion-col>
            <ion-item class="item-background-color">
              <ion-input type="text" placeholder="Product Code" name="pcode" [(ngModel)]="product_code"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <!-- Address 2 -->
        <ion-row>
          <ion-col>
            <ion-item class="item-background-color">
              <ion-input type="text" placeholder="Price" name="price" [(ngModel)]="price"> </ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
      

      <ion-row>
        <ion-col>
          <!-- City -->
          <ion-item class="item-background-color">
            <ion-input type="text" placeholder="Base Price" name="bprice" [(ngModel)]="base_price"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <!-- State -->
          <ion-item  id="txt" class="item-background-color">
            <ion-input type="text" placeholder="List Price" name="lprice" [(ngModel)]="list_price"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <!-- Zip Code -->
      <ion-row>
        <ion-col>
          <ion-item class="item-background-color">
            <ion-textarea rows={6} placeholder="Description" name="des" [(ngModel)]="description"></ion-textarea>
        </ion-item>
        </ion-col>
      </ion-row>

      <!-- Status -->
      <ion-row>
        <ion-col>
          <ion-item class="item-background-color">
            <ion-label>Choose Status</ion-label>
            <ion-select [(ngModel)]="status" [ngModelOptions]="{standalone: true}" value="status">
              <ion-select-option value="A">Active</ion-select-option>
              <ion-select-option value="D">Disable</ion-select-option>
              <ion-select-option value="H">Hidden</ion-select-option>
            </ion-select>
          </ion-item>    
        </ion-col>
      </ion-row>
    </form>
  </div>
  <!-- End billing section -->

  <!-- Payment Section -->
  <div id="payment" *ngIf="steps[1].isSelected">
    <ion-list>
      <ion-item-sliding *ngFor="let f of files" >
        <ion-item (click)="openFile(f)">
          <ion-icon name="image" slot="start" *ngIf="f.name.endsWith('jpg')"></ion-icon>        
   
          <ion-label class="ion-text-wrap">
            {{ f.name }}
            <p>{{ f.fullPath }}</p>
          </ion-label>
        </ion-item>
   
        <ion-item-options side="start">
          <ion-item-option (click)="deleteFile(f)" color="danger">
            <ion-icon ios="ios-trash"  slot="icon-only" ></ion-icon>
          </ion-item-option>
        </ion-item-options>
   
      </ion-item-sliding>
    </ion-list>
    <br/>
    <ion-grid>
      <ion-row>
        <ion-col *ngFor="let of images" size ="4">
          <img [src]="img"/>
        </ion-col>
        <ion-col size ="4"></ion-col>
        <ion-col size ="4"></ion-col>
      </ion-row>
    </ion-grid>

    <ion-grid>
      <ion-row *ngFor="let image of imagesUrlArray;let last = last;">
          <ion-col size="8">
            <img style="width: 50px; height: 50px;" [src]="image"/>
          </ion-col > 
          <ion-col size="4">

            <ion-text (click)="addingImage()" class="txt-add">Add</ion-text>
            <ion-text (click)="deleteimage(image)" class="txt-delete">Delete</ion-text>

            <!-- <ion-icon ios="ios-add-circle" md="md-add-circle" (click)="addingImage()" style="margin-right: 13px;" color="secondary"></ion-icon>
            <ion-icon  name="ios-trash"  (click)="deleteimage(image)" style="color: red;"></ion-icon> -->
          </ion-col> 
     </ion-row>
     <ion-row>
      <ion-col size="9">
        <input type="file" (change)= "onFileSelected($event)" accept="image/*">
      </ion-col >       
      <ion-col size="3">

        <ion-text (click)="onUpload()" class="txt-upload">Upload</ion-text>

        <!-- <ion-icon name="cloud-upload" (click)="onUpload()" style="margin-right: 13px;" color="danger"></ion-icon>        -->
      </ion-col>
   </ion-row>
    </ion-grid>
    <!-- Available Size -->
    <ion-grid>
      <h5>For Size</h5>
      <ion-row class="header-row">
        <ion-col size="2">
          Pos 
        </ion-col >
        <ion-col size="3">
          Size
        </ion-col>
        <ion-col size="2">
          Status
        </ion-col>
        <ion-col size="2">     
                           
        </ion-col>
        <ion-col size="3">
          
        </ion-col>
      </ion-row>
      <ion-row *ngFor="let variant_size of variants_size" class="option-row">
        <!-- <ion-input type="text" hidden="true" [(ngModel)]="option.option_id"></ion-input> -->
        <ion-input type="text" hidden="true" [(ngModel)]="variant_size.id"></ion-input>
        <ion-col size="2">
          <ion-input type="text"  [(ngModel)]="variant_size.position"></ion-input>
        </ion-col >
        <ion-col size="3">
          <ion-input type="text"  [(ngModel)]="variant_size.variant_name"></ion-input>
        </ion-col>
        <ion-col size="2">
          <!-- <ion-input type="text"  [(ngModel)]="variants.status"></ion-input> -->
          <ion-select [(ngModel)]="variant_size.status" [ngModelOptions]="{standalone: true}" value="status">
            <ion-select-option value="A">Active</ion-select-option>
            <ion-select-option value="D">Disable</ion-select-option>
            <ion-select-option value="H">Hidden</ion-select-option>
            
          </ion-select>
        </ion-col>
        <!-- <ion-col size="1">     
                           
        </ion-col> -->
        <ion-col size="5" class="txt-option">

          <ion-text (click)="openAddSizeRow()" class="txt-add">Add</ion-text>
          <ion-text (click)="updateOptionSize()" class="txt-edit">Edit</ion-text>
          <ion-text (click)="updateOptionSize(variant_size.position)" class="txt-delete">Delete</ion-text>

          <!-- <ion-icon  ios="ios-add-circle" md="md-add-circle" (click)="openAddSizeRow()" style="margin-right: 10px; margin-top: 10px;" color="secondary"></ion-icon> 
          <ion-icon name="construct" style="margin-top: 10px;" (click)="updateOptionSize()" color="primary"></ion-icon>
          <ion-icon  ios="ios-trash" md="md-trash" style="margin-left: 10px; color: red;" (click)="updateOptionSize(variant_size.position)" ></ion-icon>  -->
        </ion-col>
      </ion-row>
    <!-- </div> -->
      <ion-row *ngIf="addOptionSize" class="option-row">
        <ion-col size="2">
          <ion-input type="text" placeholder="postion" [(ngModel)]="optionSizePostion"> </ion-input>
        </ion-col >
        <ion-col size="3">
          <ion-input type="text" placeholder="optionName" [(ngModel)]="optionSizeName"></ion-input>
        </ion-col>
        <ion-col size="2">
          <!-- <ion-input type="text" placeholder="optionStatus" [(ngModel)]="optionStatus"></ion-input> -->
          <ion-select [(ngModel)]="optionSizeStatus" [ngModelOptions]="{standalone: true}" >
            <ion-select-option value="A">Active</ion-select-option>
            <ion-select-option value="D">Disable</ion-select-option>
            <ion-select-option value="H">Hidden</ion-select-option>
            
          </ion-select>
        </ion-col>
        <ion-col size="1">     
                           
        </ion-col>
        <ion-col size="4">
          <ion-text (click)="createSizeOption()" class="txt-done">Done</ion-text>
          <ion-text (click)="closeAddSizeRow()" class="txt-close">Close</ion-text>
          <!-- <ion-icon ios="ios-checkmark-circle" md="md-checkmark-circle" (click)="createSizeOption()" style="margin-top: 10px; font-size: 18px; margin-right: 10px;" color="success"></ion-icon>
          <ion-icon ios="ios-close-circle" md="md-close-circle" style="margin-top: 10px; font-size: 18px; color: red;" (click)="closeAddSizeRow()"></ion-icon> -->
        </ion-col>
      </ion-row>
      <!-- Available Color -->
    <h5>For Color</h5>
    <ion-row class="header-row">
      <ion-col size="2">
        Pos 
      </ion-col >
      <ion-col size="3">
        Color
      </ion-col>
      <ion-col size="2">
        Status
      </ion-col>
      <ion-col size="2">     
                         
      </ion-col>
      <ion-col size="3">
        
      </ion-col>
    </ion-row>
    <!-- <div *ngFor="let option of options"> -->
      <ion-row *ngFor="let variant_color of variants_color" class="option-row">
        <!-- <ion-input type="text" hidden="true" [(ngModel)]="option.option_id"></ion-input> -->
        <ion-input type="text" hidden="true" [(ngModel)]="variant_color.id"></ion-input>
        <ion-col size="2">
          <ion-input type="text"  [(ngModel)]="variant_color.position"></ion-input>
        </ion-col >
        <ion-col size="3">
          <ion-input type="text"  [(ngModel)]="variant_color.variant_name"></ion-input>
        </ion-col>
        <ion-col size="2">
          <!-- <ion-input type="text"  [(ngModel)]="variants.status"></ion-input> -->
          <ion-select [(ngModel)]="variant_color.status" [ngModelOptions]="{standalone: true}" value="status">
            <ion-select-option value="A">Active</ion-select-option>
            <ion-select-option value="D">Disable</ion-select-option>
            <ion-select-option value="H">Hidden</ion-select-option>
            
          </ion-select>
        </ion-col>
        <!-- <ion-col size="1">     
                           
        </ion-col> -->
        <ion-col size="5" class="txt-option">

          <ion-text (click)="openAddColorRow()" class="txt-add">Add</ion-text>
          <ion-text (click)="updateOptionColor()" class="txt-edit">Edit</ion-text>
          <ion-text (click)="updateOptionColor(variant_color.position)" class="txt-delete">Delete</ion-text>

          <!-- <ion-icon  ios="ios-add-circle" md="md-add-circle" (click)="openAddColorRow()" style="margin-right: 10px; margin-top: 10px;" color="secondary"></ion-icon> 
          <ion-icon name="construct" style="margin-top: 10px;" (click)="updateOptionColor()" color="primary"></ion-icon>
          <ion-icon  ios="ios-trash" md="md-trash" style="margin-left: 10px; color: red;" (click)="updateOptionColor(variant_color.position)" ></ion-icon>  -->
        </ion-col>
      </ion-row>
    <!-- </div> -->
    <ion-row *ngIf="addOptionColor" class="option-row">
      <ion-col size="2">
        <ion-input type="text" placeholder="postion" [(ngModel)]="optionColorPostion"> </ion-input>
      </ion-col >
      <ion-col size="3">
        <ion-input type="text" placeholder="optionName" [(ngModel)]="optionColorName"></ion-input>
      </ion-col>
      <ion-col size="2">
        <!-- <ion-input type="text" placeholder="optionStatus" [(ngModel)]="optionStatus"></ion-input> -->
        <ion-select [(ngModel)]="optionColorStatus" [ngModelOptions]="{standalone: true}" >
          <ion-select-option value="A">Active</ion-select-option>
          <ion-select-option value="D">Disable</ion-select-option>
          <ion-select-option value="H">Hidden</ion-select-option>
          
        </ion-select>
      </ion-col>
      <ion-col size="1">     
                         
      </ion-col>
      <ion-col size="4">

        <ion-text (click)="createColorOption()" class="txt-done">Done</ion-text>
        <ion-text (click)="closeAddColorRow()" class="txt-close">Close</ion-text>

        <!-- <ion-icon ios="ios-checkmark-circle" md="md-checkmark-circle" (click)="createColorOption()" style="margin-top: 10px; font-size: 18px; margin-right: 10px;" color="success"></ion-icon>
        <ion-icon ios="ios-close-circle" md="md-close-circle" style="margin-top: 10px; font-size: 18px; color: red;" (click)="closeAddColorRow()"></ion-icon> -->
      </ion-col>
    </ion-row>
  </ion-grid>  
  </div>
  <div id="complete-section" *ngIf="steps[2].isSelected" style="height: 70%">
    <ion-grid class="ion-padding" style="height: 100%">
      <ion-row class="ion-align-items-center ion-justify-content-center" style="height: 100%; flex-direction: column">
        <div class="ion-text-center ion-padding">
          <ion-icon name="md-checkmark-circle-outline" style="zoom:10.0;" color="medium"></ion-icon>
          <h2>Product Adding Success</h2>
          <p>Your product has been added successfully</p>
        </div>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
<!-- Footer -->
<ion-footer no-border>
  <ion-toolbar class="ion-padding" transparent>

    <!-- Go To Next Section Button Option  -->
    <!-- This button only visible Step 1 & 2 -->
    <ion-button *ngIf="!steps[2].isSelected" color="color1" expand="block" (click)="next()">Next
    </ion-button>

    <!-- Go To Order Page Button Option  -->
    <!-- This Option will be visible on Step 3 -->
    <!-- <ion-button *ngIf="steps[2].isSelected" color="color1" fill="outline" expand="block" (click)="gotoOrderPage()">My
      Comfirm
    </ion-button> -->

    <!-- Go To Products Page Button Option  -->
    <!-- This Option will be visible on Step 3 -->
    <ion-button *ngIf="steps[2].isSelected" color="color1" expand="block" (click)="goToProductDetails()">Save Changes
    </ion-button>
  </ion-toolbar>
</ion-footer>