<!--
  - Checkout Screen
  - @author    ThemesBuckets <themesbuckets@gmail.com>
  - @copyright Copyright (c) 2020
  - @license   AppsPlaces
-->

<!-- Header -->
<ion-header no-border>
  <ion-toolbar color="color1">

    <!-- Back to previous page option button -->
    <ion-buttons slot="start">
      <ion-back-button color="white" default-href="" (click)="dismiss()" text="" icon="arrow-round-back">
      </ion-back-button>
      
    </ion-buttons>

    <!-- Page title -->
    <ion-title>Add Product</ion-title>
   
  </ion-toolbar>
</ion-header>

<!-- Contents -->
<ion-content id="checkout">

  <!-- Steps of Checkout, steps are - (Billing, Payment, Confirm) -->
  <ion-grid class="ion-padding">
    <ion-row class="ion-text-center">
      <ion-col *ngFor="let item of steps" [ngClass]="{selected: item.isSelected}">
        <ion-icon name="radio-button-on" style="zoom:1.5;" [hidden]="!item.isSelected"></ion-icon>
        <ion-icon name="radio-button-off" style="zoom:1.5;" [hidden]="item.isSelected"></ion-icon>
        
        <br />
        <ion-text>{{item.step}}</ion-text>
      </ion-col>
    </ion-row>
  </ion-grid>

  <!-- Content of Checkout Steps -->

  <!-- Billing Section -->
  <div id="billing" *ngIf="steps[0].isSelected">

    <form class="ion-padding">
      <!-- Full Name -->
      <ion-item>
        <ion-input type="text" placeholder="Product Name" name="pname" [(ngModel)]="productName" ></ion-input>
      </ion-item>
      <!-- Address 1 -->
      <ion-item class="ion-padding-top">
        <ion-input type="text" placeholder="Product Code" name="pcode" [(ngModel)]="productCode"></ion-input>
      </ion-item>

      <!-- Address 2 -->
      <ion-item class="ion-padding-top">
        <ion-input type="text" placeholder="Price" name="price" [(ngModel)]="productPrice"></ion-input>
      </ion-item>

      <ion-row>
        <ion-col>
          <!-- City -->
          <ion-item class="ion-padding-top">
            <ion-input type="text" placeholder="Base Price" name="bprice" [(ngModel)]="base_price"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>
          <!-- State -->
          <ion-item class="ion-padding-top">
            <ion-input type="text" placeholder="List Price" name="lprice" [(ngModel)]="list_price"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <!-- Zip Code -->
      <ion-item class="ion-padding-top">
        <ion-textarea rows={6} placeholder="Description" name="des" [(ngModel)]="productDescription"></ion-textarea>
      </ion-item>

      <!-- product category -->

      <ion-item>
        <ion-label>Category</ion-label>
        <ion-select [(ngModel)]="categoriesByLevel1_id" [ngModelOptions]="{standalone: true}" (cancel)="onCancel()" (ionChange)="level1clickOption(categoriesByLevel1_id)"data-live-search="true">
          <ion-select-option *ngFor="let categories of categories" [value]="categories.id">{{categories.name}}</ion-select-option>
        </ion-select>
      </ion-item>
      <!-- <div *ngFor="let categoriesByLevel of categoriesByLevel3" >
        <div *ngIf="categoriesByLevel.parent_id==category_id" ></div>
      </div> -->

      <div *ngIf="categoriesByLevel1_id">
        <div *ngIf="isHaveLevel2Child">
        <ion-item>
          <ion-label>Sub-Category</ion-label>
          <ion-select [(ngModel)]="categoriesByLevel2_id" [ngModelOptions]="{standalone: true}" (ionChange)="level2ClickOption(categoriesByLevel2_id)"data-live-search="true">
            <div *ngFor="let categoriesByLevel2 of categoriesByLevel3">
            <ion-select-option *ngIf="categoriesByLevel2.parent_id==categoriesByLevel1_id" [value]="categoriesByLevel2.id">{{categoriesByLevel2.name}}</ion-select-option>
            </div>
          </ion-select>
        </ion-item>
      </div>
      </div>

      <div *ngIf="categoriesByLevel2_id">
        <div *ngIf="isHaveLevel3Child && isHaveLevel2Child">
        <ion-item>
          <ion-label>level3 Sub-Category</ion-label>
          <ion-select [(ngModel)]="categoriesByLevel3_id" [ngModelOptions]="{standalone: true}" (ionChange)="level3ClickOption(categoriesByLevel3_id)" data-live-search="true">
            <div *ngFor="let categoriesByLevel3 of categoriesByLevel3" >
            <ion-select-option *ngIf="categoriesByLevel3.parent_id==categoriesByLevel2_id" [value]="categoriesByLevel3.id">{{categoriesByLevel3.name}}</ion-select-option>
            </div>
          </ion-select>
        </ion-item>
      </div>
      </div>

      <!-- <ion-item class="ion-padding-top">
        <ion-label>Choose Category</ion-label>
        <ion-select [(ngModel)]="category_ids" [ngModelOptions]="{standalone: true}">
          <ion-select-option [value]="260">Men</ion-select-option>
          <ion-select-option [value]="261">Women</ion-select-option>
          <ion-select-option [value]="262">Kids</ion-select-option>
          <ion-select-option [value]="263">Living & Gifts</ion-select-option>          
          <ion-select-option [value]="264">Holiday & Hobby</ion-select-option>
          <ion-select-option [value]="399">Office, Jobs & Services</ion-select-option>
          <ion-select-option [value]="408">Home Application</ion-select-option>
          <ion-select-option [value]="410">Moblie Phones, Computer & Laptops</ion-select-option>
          <ion-select-option [value]="409">Electronics</ion-select-option>
          <ion-select-option [value]="450">Medicine, Health & Nutrition Supplyment</ion-select-option>
          <ion-select-option [value]="440">Group Buy</ion-select-option>
          <ion-select-option [value]="271">Marketplace</ion-select-option>
          <ion-select-option [value]="255">Textile</ion-select-option>
        </ion-select>
      </ion-item> -->

      <!-- Status -->
      <ion-item class="ion-padding-top">
        <ion-label>Choose Status</ion-label>
        <ion-select [(ngModel)]="status" [ngModelOptions]="{standalone: true}">
          <ion-select-option [value]="A">Active</ion-select-option>
          <ion-select-option [value]="D">Disable</ion-select-option>
          <ion-select-option [value]="H">Hidden</ion-select-option>
          
        </ion-select>
      </ion-item>

    </form>
  </div>
  <!-- End billing section -->

  <!-- Payment Section -->
  <div id="payment" *ngIf="steps[1].isSelected">
    <h3 *ngIf="images.length == 0" text-center>Please Select Image!</h3>
 
    <ion-list>
      <ion-item *ngFor="let img of images; index as pos" text-wrap>
        <ion-thumbnail slot="start">
          <ion-img [src]="img.path"></ion-img>
        </ion-thumbnail>
        <ion-label>
          {{ img.name }}
        </ion-label>
        <ion-button slot="end" fill="clear" (click)="startUpload(img)">
          <ion-icon slot="icon-only" name="cloud-upload"></ion-icon>
        </ion-button>
        <ion-button slot="end" fill="clear" (click)="deleteImage(img, pos)">
          <ion-icon slot="icon-only" name="trash"></ion-icon>
        </ion-button>
      </ion-item>
    </ion-list>

    <ion-toolbar color="primary">
      <ion-button fill="clear" expand="full" color="light" (click)="selectImage()">
        <ion-icon slot="start" name="camera"></ion-icon>
        Select Image</ion-button>
    </ion-toolbar>

    <!-- Payment Card Options -->
    <!-- <ion-radio-group>
      <ion-row>
        <ion-col *ngFor="let item of cards">
          <ion-item lines="none">
            <ion-radio color="color1" mode="ios" [value]="item"></ion-radio>
            <img [src]="item">
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-radio-group> -->

    <!-- Card Information Form -->
    
  </div>

  <!-- Payment Complete Section -->
  <!-- Confirm Screen -->
  <div id="complete-section" *ngIf="steps[2].isSelected" style="height: 70%">
    <ion-grid class="ion-padding" style="height: 100%">
      <ion-row class="ion-align-items-center ion-justify-content-center" style="height: 100%; flex-direction: column">
        <div class="ion-text-center ion-padding">
          <ion-icon name="md-checkmark-circle-outline" style="zoom:10.0;" color="medium"></ion-icon>
          <h2>Product Adding Success</h2>
          <p>Your product has been added successfully</p>
        </div>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>

<!-- Footer -->
<ion-footer no-border>
  <ion-toolbar class="ion-padding" transparent>

    <!-- Go To Next Section Button Option  -->
    <!-- This button only visible Step 1 & 2 -->
    <ion-button *ngIf="!steps[2].isSelected" color="color1" expand="block" (click)="next()">Next
    </ion-button>

    <!-- Go To Order Page Button Option  -->
    <!-- This Option will be visible on Step 3 -->
    <!-- <ion-button *ngIf="steps[2].isSelected" color="color1" fill="outline" expand="block" (click)="gotoOrderPage()">My
      Comfirm
    </ion-button> -->

    <!-- Go To Products Page Button Option  -->
    <!-- This Option will be visible on Step 3 -->
    <ion-button *ngIf="steps[2].isSelected" color="color1" expand="block" (click)="gotoProductsPage()">Go Back To Products
    </ion-button>
  </ion-toolbar>
</ion-footer>